缓存 304
==========================

今天面试遇到了关于缓存的问题，今天先说下304以后有空在说另外一个200(from cache)

304是http状态码的一种，代表的含义是缓存的资源可以用，也就是说，如果服务器端配置了相应的缓存规则，那么客户端会缓存对应的资源（主要是一些js、css、img等）

那么大致的过程是什么呢？

首先，服务器必须配置对应的缓存规则~

然后在浏览器第一次访问该网页时，会把所有的资源缓存在本地（同时会缓存该文件的最后修改时间：Last-Modified）。

然后再浏览器“第二次”访问该网页时，会查看本地的缓存，如果发现对应的缓存文件，会在http请求头中额外加上一个参数：If-Modified-Since，这个值就是缓存的Last-Modified

然后服务器接收到请求之后，会比较这个值，如果是没有改变过，也就是客户端缓存的是最新的，那么就会返回304 Not Modified状态码

这时客户端在收到304的响应包，就会直接使用缓存，这样完整的请求就结束了~

如果在后续的访问中，服务器端发现这个文件有了更新，那么会把这个文件的最新版本（和最后修改时间Last-Modified）发送到客户端，并且状态码是200，客户端收到后，会更新缓存及Last-Modified，然后在下次访问页面时把新的Last-Modified当做If-Modified-Since的参数加在http请求头中。
